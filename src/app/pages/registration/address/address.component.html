<section class="screenAddress">
    <div class="container">
        <div class="address">
            <form action="" [formGroup]="addressForm">
                <!-- address textarea -->
            <div class="row mb-2">
                <div class="col-sm">
                    <div>
                        <label class="input-label-text"> Address </label>
                        <div class="input-group">
                            <textarea nbInput fullWidth fieldSize="tiny" placeholder="Enter address" formControlName="Address" required></textarea>
                            <mat-error *ngIf="this.addressForm.get('Address').hasError('required') && this.addressForm.get('Address').touched"
                             class="error-msg">Address is <strong>required</strong></mat-error>
                        </div>
                    </div>
                </div>
            </div>
            <!-- address textarea -->

            <!-- Tel & Fax -->
            <div class="row mb-2">
                <div class="col-sm mb-sm-0 mb-2">
                    <div>
                        <label class="input-label-text"> Tel </label>
                        <div class="input-group">
                            <input nbInput fullWidth fieldSize="small" type="tel" [maxlength]="15" placeholder="Enter tel number" formControlName="Tel"/>
                        </div>
                    </div>
                </div>
                <div class="col-sm">
                    <div>
                        <label class="input-label-text"> Fax </label>
                        <div class="input-group">
                            <input nbInput fullWidth fieldSize="small" type="tel" [maxlength]="15" placeholder="Enter fax number" formControlName="Fax"/>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Tel & Fax -->

            <!-- website & add btn -->
            <div class="row">
                <div class="col-md-6 mb-sm-0 mb-2">
                    <div>
                        <label class="input-label-text"> Website </label>
                        <div class="input-group">
                            <input nbInput fullWidth fieldSize="small" placeholder="Enter website" formControlName="Website"/>
                        </div>
                    </div>
                </div>
                <div class="col-md-6 d-flex">
                    <!-- address type -->
                    <div class="address-type col-8">
                        <label class="input-label-text"> Select address type </label>
                        <div class="input-group">
                            <nb-select fullWidth placeholder="Select address type" size="small" status="primary"
                             formControlName="AddressType_Id" required>
                                <nb-option value="1">Office</nb-option>
                                <nb-option value="2">Manufacturing unit</nb-option>
                            </nb-select>
                            <mat-error *ngIf="this.addressForm.get('AddressType_Id').hasError('required') && this.addressForm.get('AddressType_Id').touched"
                             class="error-msg">Address type <strong>required</strong></mat-error>
                        </div>
                    </div>
                    <!-- address type -->

                    <!-- add btn -->
                    <div class="col-4 d-flex align-items-end justify-content-center">
                        <button class="btn btn-design center-flexBox" (click)="addAddress()">
                            <img src="../../../../assets/images/pngs/plus.png" width="16" height="16" class="me-1">
                            Add</button>
                    </div>
                    <!-- add btn -->
                </div>
            </div>
            <!-- website & add btn -->
            </form>

            <!-- table starts here -->
            <div class="row">
                <div class="mt-3 table-responsive w-100 table-container registration-table address-table p-0">
                    <table mat-table [dataSource]="dataSource">
                        <!-- AddressType_Id column -->
                        <ng-container matColumnDef="addressType_id">
                            <th mat-header-cell *matHeaderCellDef> Address Type </th>
                            <td mat-cell *matCellDef="let element"> {{element.AddressType_Id =='1' ? 'Office' : element.AddressType_Id =='2' ? 'Manufacturing Unit' : ''}} </td>
                        </ng-container>
                        
                        <!-- Address column -->
                        <ng-container matColumnDef="address">
                            <th mat-header-cell *matHeaderCellDef> Address </th>
                            <td mat-cell *matCellDef="let element"> {{element.Address}} </td>
                        </ng-container>

                        <!-- Tel column -->
                        <ng-container matColumnDef="tel">
                            <th mat-header-cell *matHeaderCellDef> Tel </th>
                            <td mat-cell *matCellDef="let element" class="no-wrap-column"> {{element.Tel}} </td>
                        </ng-container>

                        <!-- Fax column -->
                        <ng-container matColumnDef="fax">
                            <th mat-header-cell *matHeaderCellDef> Fax </th>
                            <td mat-cell *matCellDef="let element" class="no-wrap-column"> {{element.Fax}} </td>
                        </ng-container>

                        <!-- Website column -->
                        <ng-container matColumnDef="website">
                            <th mat-header-cell *matHeaderCellDef> Website </th>
                            <td mat-cell *matCellDef="let element"> <a class="website-link" href="{{element.Website}}" target="_blank">{{element.Website}}</a> </td>
                        </ng-container>

                        <!-- action column -->
                        <ng-container matColumnDef="action">
                            <th mat-header-cell *matHeaderCellDef> </th>
                            <td mat-cell *matCellDef="let element; let i = index">
                                <div>
                                    <button mat-mini-fab color="basic" class="cancel-btn" (click)="removeAddress(i)">
                                        <img src="../../../../assets/images/pngs/xmark.png" height="18" width="18">
                                    </button>
                                  </div>
                            </td>
                        </ng-container>

                        <tr mat-header-row *matHeaderRowDef="displayedColumns" class="row-header"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns; let i = index"></tr>
                    </table>
                </div>
            </div>
            <!-- table ends here -->
        </div>

    </div>
</section>