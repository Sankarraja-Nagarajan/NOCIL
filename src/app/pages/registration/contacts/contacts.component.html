<section class="screenContacts">
    <div class="container">
        <div class="contacts">
            <!-- contact form starts here -->
            <div class="row">
                <form action="" [formGroup]="contactForm" class="p-0">
                    <!-- name & designation -->
                    <div class="row mb-2">
                        <div class="col-sm">
                            <div>
                                <label class="input-label-text"> Name </label>
                                <div class="input-group">
                                    <input nbInput fullWidth fieldSize="small" placeholder="Enter name"
                                        formControlName="Name" />
                                </div>
                            </div>
                        </div>

                        <div class="col-sm">
                            <div>
                                <label class="input-label-text"> Designation </label>
                                <div class="input-group">
                                    <input nbInput fullWidth fieldSize="small" placeholder="Enter designation"
                                        formControlName="Designation" />
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- name & designation -->

                    <!-- Phone No & Email Id -->
                    <div class="row mb-2">
                        <div class="col-sm mb-sm-0 mb-2">
                            <div>
                                <label class="input-label-text"> Phone No </label>
                                <div class="input-group">
                                    <input nbInput fullWidth fieldSize="small" placeholder="Enter phone number"
                                        formControlName="PhoneNo" />
                                </div>
                            </div>
                        </div>
                        <div class="col-sm">
                            <div>
                                <label class="input-label-text"> Email Id </label>
                                <div class="input-group">
                                    <input nbInput fullWidth fieldSize="small" placeholder="Enter email id"
                                        formControlName="EmailId" />
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Phone No & Email Id -->

                    <!-- Mobile No & contact type & add btn -->
                    <div class="row">
                        <div class="col-md-6 mb-sm-0 mb-2">
                            <div>
                                <label class="input-label-text"> Mobile No </label>
                                <div class="input-group">
                                    <input nbInput fullWidth fieldSize="small" placeholder="Enter mobile no"
                                        formControlName="MobileNo" />
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 d-flex">
                            <!-- contact type -->
                            <div class="address-type col-8">
                                <label class="input-label-text"> Select contact type </label>
                                <div class="input-group">
                                    <nb-select fullWidth placeholder="Select contact type" size="small" status="primary"
                                        formControlName="ContactTypeId" required>
                                        <nb-option value="1">Business contact</nb-option>
                                        <nb-option value="2">Plant contact</nb-option>
                                    </nb-select>
                                    <mat-error
                                        *ngIf="this.contactForm.get('ContactTypeId').hasError('required') && this.contactForm.get('ContactTypeId').touched"
                                        class="error-msg">Contact type <strong>required</strong></mat-error>
                                </div>
                            </div>
                            <!-- contact type -->

                            <!-- add btn -->
                            <div class="col-4 d-flex align-items-end justify-content-center">
                                <button class="btn btn-design center-flexBox" (click)="addContact()">
                                    <img src="../../../../assets/images/pngs/plus.png" width="18" height="18" class="me-1">
                                    Add</button>
                            </div>
                            <!-- add btn -->
                        </div>
                    </div>
                    <!-- Mobile No & contact type & add btn -->
                </form>
            </div>
            <!-- contact form starts here -->

            <!-- table starts here -->
            <div class="row">
                <div class="mt-3 table-responsive w-100 table-container registration-table contact-table p-0">
                    <table mat-table [dataSource]="dataSource">

                        <!-- Contact type column -->
                        <ng-container matColumnDef="contactTypeId">
                            <th mat-header-cell *matHeaderCellDef> Contact Type </th>
                            <td mat-cell *matCellDef="let element"> {{element.ContactTypeId =='1' ? 'Business Contact' :
                                element.ContactTypeId =='2' ? 'Plant Contact' : ''}} </td>
                        </ng-container>

                        <!-- Name column -->
                        <ng-container matColumnDef="name">
                            <th mat-header-cell *matHeaderCellDef> Name </th>
                            <td mat-cell *matCellDef="let element"> {{element.Name}} </td>
                        </ng-container>

                        <!-- Designation column -->
                        <ng-container matColumnDef="designation">
                            <th mat-header-cell *matHeaderCellDef> Designation </th>
                            <td mat-cell *matCellDef="let element"> {{element.Designation}} </td>
                        </ng-container>

                        <!-- PhoneNo column -->
                        <ng-container matColumnDef="phoneNo">
                            <th mat-header-cell *matHeaderCellDef class="no-wrap-column"> Phone No </th>
                            <td mat-cell *matCellDef="let element" class="no-wrap-column"> {{element.PhoneNo}} </td>
                        </ng-container>

                        <!-- EmailId column -->
                        <ng-container matColumnDef="emailId">
                            <th mat-header-cell *matHeaderCellDef> Email Id </th>
                            <td mat-cell *matCellDef="let element">{{element.EmailId}}</td>
                        </ng-container>

                        <!-- Mobile No column -->
                        <ng-container matColumnDef="mobileNo">
                            <th mat-header-cell *matHeaderCellDef class="no-wrap-column"> Mobile No </th>
                            <td mat-cell *matCellDef="let element" class="no-wrap-column">{{element.MobileNo}}</td>
                        </ng-container>

                        <!-- action column -->
                        <ng-container matColumnDef="action">
                            <th mat-header-cell *matHeaderCellDef> </th>
                            <td mat-cell *matCellDef="let element; let i = index">
                                <div>
                                    <button mat-mini-fab color="basic" class="cancel-btn" (click)="removeContact(i)">
                                        <img src="../../../../assets/images/pngs/xmark.png" height="18" width="18">
                                    </button>
                                </div>
                            </td>
                        </ng-container>

                        <tr mat-header-row *matHeaderRowDef="displayedColumns" class="row-header"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns; let i = index"></tr>
                    </table>
                </div>
            </div>
            <!-- table ends here -->
        </div>
    </div>
</section>